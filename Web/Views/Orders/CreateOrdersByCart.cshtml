@model List<Application.Entities.Cart>
<div class="min-h-screen flex flex-col md:flex-row max-w-6xl mx-auto p-6">
    <!-- Left Column - Customer Information -->
    <div class="flex-1 bg-white shadow-md p-6 md:p-10 rounded-lg">
        <div class="mb-6">
            <div class="flex justify-between items-center mb-8">
                <h1 class="text-3xl font-bold">Contact</h1>
                <a href="#" class="text-blue-500 hover:underline">Log in</a>
            </div>
            <input type="email" placeholder="Email" class="w-full p-3 border rounded-md mb-4 focus:ring-2 focus:ring-blue-400">
            <div class="flex items-center">
                <input type="checkbox" id="newsletter" class="mr-2">
                <label for="newsletter" class="text-sm text-gray-700">Email me with news and offers</label>
            </div>
        </div>

        <h2 class="text-2xl font-bold mb-4">Delivery</h2>
        <select class="w-full p-3 border rounded-md mb-4">
            <option>Vietnam</option>
        </select>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input type="text" placeholder="First name" class="w-full p-3 border rounded-md">
            <input type="text" placeholder="Last name" class="w-full p-3 border rounded-md">
        </div>

        <input type="text" placeholder="Company (optional)" class="w-full p-3 border rounded-md my-4">
        <input type="text" placeholder="Address" class="w-full p-3 border rounded-md mb-4">
        <input type="text" placeholder="Apartment, suite, etc. (optional)" class="w-full p-3 border rounded-md mb-4">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
            <input type="text" placeholder="City" class="w-full p-3 border rounded-md">
            <input type="text" placeholder="Postal code (optional)" class="w-full p-3 border rounded-md">
        </div>

        <input type="tel" placeholder="Phone" class="w-full p-3 border rounded-md mb-6">

        <div class="bg-white p-6 shadow-md rounded-lg ">
            <h2 class="text-xl font-bold mb-2">Payment</h2>
            <p class="text-gray-600 text-sm mb-4">All transactions are secure and encrypted.</p>

            <div class="border rounded-md overflow-hidden">
                <!-- Credit/ATM Card -->
                <label class="block border-b cursor-pointer">
                    <div class="p-4 flex items-center justify-between hover:bg-gray-50 payment-option" id="option-card">
                        <div class="flex items-center space-x-3">
                            <div class="radio-custom" id="radio-card"></div>
                            <span>Chuyển khoản (Bank Deposit)</span>
                        </div>
                        <div class="flex space-x-2">
                            <img src="#" alt="BIDV" class="h-5">
                            <img src="#" alt="VCB" class="h-5">
                            <img src="#" alt="MB Bank" class="h-5">
                            <img src="#" alt="TP Bank" class="h-5">
                        </div>
                        <input type="radio" name="payment" value="card" class="hidden" id="input-card">
                    </div>
                </label>
                <div id="card-details" class="hidden p-4 bg-gray-50 border-t">
                    <p class="text-sm text-gray-600">
                        Đơn hàng sẽ được chuẩn bị và gửi đi sau khi nhận được chuyển khoản<br>
                        Nội dung chuyển khoản vui lòng ghi "Order + (số order)"<br>
                        Ví dụ: "Order 0987654321"<br>
                        For orders in Vietnam, we will prepare and dispatch after receiving the receipt of the transfer from customers.<br>
                        Please note "Order + (number order)" in the Description<br>
                        For example: "Order 0987654321".
                    </p>
                </div>

                <!-- Cash on Delivery -->
                <label class="block border-b cursor-pointer">
                    <div class="p-4 flex items-center justify-between hover:bg-gray-50 payment-option" id="option-cod">
                        <div class="flex items-center space-x-3">
                            <div class="radio-custom" id="radio-cod"></div>
                            <span>Thanh toán khi nhận hàng (COD)</span>
                        </div>
                        <input type="radio" name="payment" value="cod" class="hidden" id="input-cod">
                    </div>
                </label>
                <div id="cod-details" class="hidden p-4 bg-gray-50 border-t">
                    <p class="text-xs text-gray-500 mt-1">Chỉ áp dụng với đơn hàng tại Việt Nam<br>Only applicable for orders in Vietnam</p>
                </div>

                <!-- PayPal -->
                <label class="block cursor-pointer">
                    <div class="p-4 flex items-center justify-between hover:bg-gray-50 payment-option" id="option-paypal">
                        <div class="flex items-center space-x-3">
                            <div class="radio-custom" id="radio-paypal"></div>
                            <span>PayPal</span>
                        </div>
                        <input type="radio" name="payment" value="paypal" class="hidden" id="input-paypal">
                    </div>
                </label>
                <div id="paypal-details" class="hidden p-4 bg-gray-50 border-t">
                    <p class="text-sm text-gray-600">You will be redirected to PayPal to complete your purchase.</p>
                </div>
            </div>
        </div>


        <button class="w-full bg-blue-600 text-white p-3 rounded-lg text-lg hover:bg-blue-700 transition"> Thanh toán</button>
    </div>

    <!-- Right Column - Order Summary -->
    <div class="bg-gray-100 p-6 md:p-10 md:w-1/3">
        <div class="border-b border-gray-300 pb-6">
            @foreach (var product in Model)
            {
                <div class="flex items-start mb-4">
                    <div class="relative mr-4">
                        <div class="w-16 h-20 bg-gray-200 rounded-md relative">
                            <img src="@product" alt="@product.Loai" class="w-full h-full object-cover rounded-md">
                            <span class="absolute -top-2 -right-2 w-5 h-5 bg-gray-500 rounded-full text-white text-xs flex items-center justify-center">1</span>
                        </div>
                    </div>
                    <div class="flex-1">
@*                         <h3 class="font-semibold">@product.</h3> *@
                        <p class="text-sm text-gray-600">@product.Size</p>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold">@string.Format("{0:N0}", product.Price) ₫</p>
                    </div>
                </div>
            }

            <div class="flex items-center justify-between mt-6">
                <div class="flex-1">
                    <input type="text" placeholder="Discount code" class="w-full px-4 py-2 border border-gray-300 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-200">
                </div>
                <button class="bg-gray-300 px-4 py-2 rounded-r hover:bg-gray-400">Apply</button>
            </div>
        </div>

        <div class="py-4 border-b border-gray-300">
            <div class="flex justify-between mb-2">
                <span>Subtotal</span>
                <span class="font-semibold">999,000₫</span>
            </div>

            <div class="flex justify-between mb-2">
                <span class="font-semibold">Order discount</span>
            </div>

            <div class="flex items-center text-sm text-gray-600 mb-2">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
                </svg>
                <span>20K OFF FOR ORDER FROM 500K</span>
                <span class="ml-auto text-red-600">- 20,000₫</span>
            </div>

            <div class="flex justify-between items-center mb-2">
                <div class="flex items-center">
                    <span class="font-semibold">Shipping</span>
                    <i class="fas fa-info-circle ml-1 text-gray-500"></i>
                </div>
                <div class="text-right">
                    <span class="line-through text-gray-500">37,000₫</span>
                    <span class="font-semibold ml-2">FREE</span>
                </div>
            </div>

            <div class="flex items-center text-sm text-gray-600">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
                </svg>
                <span>FREE SHIPPING</span>
                <span class="ml-2 text-pink-500"><i class="fas fa-shipping-fast"></i></span>
            </div>
        </div>

        <div class="pt-4">
            <div class="flex justify-between items-center mb-4">
                <span class="text-lg font-bold">Total</span>
                <div class="text-right">
                    <span class="text-sm text-gray-500">VND</span>
                    <span class="text-xl font-bold ml-2">979,000₫</span>
                </div>
            </div>

            <div class="flex items-center text-sm font-semibold">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path>
                </svg>
                <span>TOTAL SAVINGS</span>
                <span class="ml-auto">57,000₫</span>
            </div>
        </div>
    </div>
</div>
<script>
    // Định nghĩa các phương thức thanh toán
    const paymentMethods = ['card', 'cod', 'paypal'];

    // Xử lý khi chọn phương thức thanh toán
    paymentMethods.forEach(method => {
        const option = document.getElementById(`option-${method}`);
        const radio = document.getElementById(`radio-${method}`);
        const input = document.getElementById(`input-${method}`);

        option.addEventListener('click', function() {
            // Ẩn tất cả các chi tiết
            paymentMethods.forEach(m => {
                document.getElementById(`${m}-details`).classList.add('hidden');
                document.getElementById(`option-${m}`).classList.remove('selected');
                document.getElementById(`radio-${m}`).classList.remove('selected');
                document.getElementById(`input-${m}`).checked = false;
            });

            // Hiển thị chi tiết của phương thức đã chọn
            document.getElementById(`${method}-details`).classList.remove('hidden');
            option.classList.add('selected');
            radio.classList.add('selected');
            input.checked = true;
        });
    });

    // Chọn phương thức mặc định (chuyển khoản)
    document.getElementById('option-card').click();
</script>